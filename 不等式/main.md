# 平均函数

$$f(n) = \begin{cases}
a & a = b \gt 0 \\
\dfrac{n}{n+1}\cdot\dfrac{a^{n+1}-b^{n+1}}{a^n-b^n} & a\gt0,b\gt0,a\neq b
\end{cases}
$$

$a \neq b$ 时，具有以下特征：
* 单调递增（求简练的证明）
* 与 $a,b$ 均正相关
  * 特殊地，当 $a,b$ 都变为原来的 $n$ 倍时，$f(n)$ 也变为原来的 $n$ 倍。
* $\min\{a,b\} \lt f(n) \lt \max\{a,b\}$

取 $n=-2,-1,-0.5,0,0.5,1$（$-1$ 和 $0$ 需要使用洛必达），得

$$
\dfrac{2ab}{2+b}
\lt \dfrac{ab(\ln a-\ln b)}{a-b}
\lt \sqrt{ab}
\lt \dfrac{a-b}{\ln a-\ln b}
\lt \dfrac{a+b+\sqrt{ab}}{3}
\lt \dfrac{a+b}{2}
$$

其中便出现了众所周知的调和平均、几何平均、对数平均和代数平均。

$$f(-2)\lt f(-1) \Leftrightarrow f(0)\lt f(1)$$
$$f(-1)\lt f(-0.5) \Leftrightarrow f(-0.5)\lt f(0)$$

因此 $f(-1)$ 的不等式可以由对数平均直接得出。

原式亦可写为定积分形式，但不知道有什么用。

---

感谢 [Alan](https://sjfh.top/) 和p同学的启发。

<p><details>
<summary>发现经历</summary>

2022年9月13日（手稿上标注的日期），我第二次学到对数平均，产生了一个疑问：几何平均和代数平均都显然由两数“各贡献一半”，因此均值显然在两数之间，但对数平均就不是这样，那应如何理解“平均”？

Alan 表示，他觉得“两个数之差除以两个数之差”可能更接近平均的“本质”。又随口一提，$\dfrac{a+b}{2}$ 不就可以写成 $\dfrac{1}{2}\cdot\dfrac{a^2-b^2}{a-b}$ 吗？

我大受震撼，和p同学聊了聊，他提示我平均函数一定是一次的。

于是晚上我捣鼓了一个多小时，从 $\dfrac{a^{n+1}-b^{n+1}}{a^n-b^n}$ 开始，令 $n=3,b=1,a\to1$，利用立方差约去 $a-1$ 后得到 $\dfrac{4}{3}$。因为 $1$ 和 $1$ 的平均数应当是 $1$，经实验，我猜想应补充参数 $\dfrac{n}{n+1}$，便有了上式。$n$ 不为正整数之时，补充此参数的道理仍未知——不过这样挺管用。

</details></p>

2024年夏，我询问 ChatGPT 得知性质类似的 [Stolarsky 平均](https://en.wikipedia.org/wiki/Stolarsky_mean)，发现拉格朗日定理与之的关联，并终于听说1989年即有人发现了此规律，相关资料总结在《常用不等式》第4版55页。这份文档看来不会发表了，且留作纪念。
